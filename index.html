<!DOCTYPE html>
<html>
<head>
    <title>jQuery MD5</title>
</head>
<body>
    <input id="data" name="data"></input>
    <div>
        <span>Empty-in:</span>
        <span id="empty-in"></span>
    </div>
    <div>
        <span>Empty-out:</span>
        <span id="empty"></span>
    </div>
    <div>
        <span>Box-in:</span>
        <span id="out-in"></span>
    </div>
    <div>
        <span>Box:</span>
        <span id="out"></span>
    </div>
    <div id="gravatar">
    </div>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="jquery.md5.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
        function asHex(data)
        {
            var asHex = "",  temp;
            for( i = 0 ; i < data.length ; ++i)
            {
                temp = data[i].toString(16);
                if(temp.length == 1) {
                    temp = "0" + temp;
                }
                asHex += temp;
            }
            return asHex;
        }

        function printAsHex(data) {
            return  "(" + data.length + ") [" + asHex(data) + "]";
        }

        $('#data').change(function() {
            var data = $.fn.fromUTF8String($('#data').val()),
            digest = $.fn.md5(data),
            digestHex = asHex(digest);

            $('#out-in').text(printAsHex(data));

            $('#out').text(printAsHex(digest));
        });
        
        var emptyString = $.fn.fromUTF8String("");
        $('#empty-in').text(printAsHex(emptyString));
        $('#empty').text(printAsHex($.fn.md5(emptyString)));
    })
    </script>
</body>
</html>
